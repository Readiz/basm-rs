#!/usr/bin/env bash
set -euo pipefail

# 사용법 안내
if [[ $# -ne 1 ]]; then
  echo "Usage: $0 <problem_number>" >&2
  exit 1
fi

# 프로젝트 루트 위치 (스크립트가 위치한 디렉토리)
ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Cargo 설정 무시하고 클린 빌드·실행
export RUSTFLAGS=""

# --release 빌드를 권장해 성능 최적화
cargo run --release \
  --manifest-path "$ROOT/basm-boj/Cargo.toml" \
  -- "$1"